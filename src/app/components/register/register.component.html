<section class="py-4">
    <h2>Register :</h2>
    <div *ngIf="apiError.length>0" class="alert alert-danger">
        {{apiError}}
    </div>
    <form (ngSubmit)="handleRegister(registerForm)" class="py-4" [formGroup]="registerForm">
        <label for="name">Name :</label>
        <input formControlName="name" type="text" id="name" class="form-control my-3">
        <div *ngIf="registerForm.get('name')?.touched && registerForm.get('name')?.errors" class="alert alert-danger">
            <p *ngIf="registerForm.get('name')?.getError('minlength')">Min Length is 3 characters</p>
            <p *ngIf="registerForm.get('name')?.getError('maxlength')">Max Length is 20 characters</p>
            <p *ngIf="registerForm.get('name')?.getError('required')">Name is Required</p>
        </div>

        <label for="email">Email :</label>
        <input formControlName="email" type="email" id="email" class="form-control my-3">
        <div *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.errors" class="alert alert-danger">
            <p *ngIf="registerForm.get('email')?.getError('email')">Email invalid</p>
            <p *ngIf="registerForm.get('email')?.getError('required')">Email is Required</p>
        </div>

        <label for="password">Password :</label>
        <input formControlName="password" type="password" id="password" class="form-control my-3">
        <div *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.errors" class="alert alert-danger">
            <ul *ngIf="registerForm.get('password')?.getError('pattern')">
                <li>At least 8 characters.</li>
                <li>Contains at least one uppercase letter.</li>
                <li>Contains at least one lowercase letter.</li>
                <li>Contains at least one digit.</li>
                <li>Contains at least one special character.</li>
            </ul>
            <p *ngIf="registerForm.get('password')?.getError('required')">password is Required</p>
        </div>

        <label for="rePassword">RePassword :</label>
        <input formControlName="rePassword" type="password" id="rePassword" class="form-control my-3">
        <div *ngIf="registerForm.get('rePassword')?.touched && registerForm.get('rePassword')?.errors" class="alert alert-danger">
            <p *ngIf="registerForm.get('rePassword')?.getError('rePasswordMatch')">password doesn't match repassword</p>
            <p *ngIf="registerForm.get('rePassword')?.getError('required')">password is Required</p>
        </div>

        <label for="phone">Phone :</label>
        <input formControlName="phone" type="tel" id="phone" class="form-control my-3">
        <div *ngIf="registerForm.get('phone')?.touched && registerForm.get('phone')?.errors" class="alert alert-danger">
            <p *ngIf="registerForm.get('phone')?.getError('pattern')">enter an Egyptian phone number</p>
            <p *ngIf="registerForm.get('phone')?.getError('required')">Email is Required</p>
        </div>

        <button [disabled]="registerForm.invalid" type="submit" class="btn bg-main text-white d-block ms-auto my-3">
            <i *ngIf="isLoading" class="fas fa-spin fa-spinner"></i>
            <span *ngIf="!isLoading">Register</span>
            </button>

    </form>

</section>